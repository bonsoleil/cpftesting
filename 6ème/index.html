</head>

<body>
	<title> Cloud </title>
<center>
	<h1>TEST 23</h1>

	<br>
	<h1>Temperature Sensor</h1>
	<span id="tempvalue">none</span>

	
</center>

<script>
	
var temp;
var tempconverted;

	setup();
	
	function main(){
		if (cpf){
			temp = cpf.get("temperature sensor");
			tempconverted = toCelsius(temp);
			document.getElementById("tempvalue").innerHTML = tempconverted;
		}
		setTimeout(main, 1000); 
	}
	
	function toCelsius(value) {
		var resistance = parseFloat((1023-value) * 10000 / value);
		var temperature = 1 / (Math.log(resistance / 10000) / 3975+1 / 298.15) - 273.15;
		
		return temperature.toFixed(2);
	}
	
	//Cambiar por un switch
	if(tempcomverted == 22){                         
		
		cpf.recuest('["digitalWrite", 5, 200]');
		
	}
		if(tempcomverted == 16){                         
		
		cpf.recuest('["digitalWrite", 5, 145]');
		
	}
		if(tempcomverted == 15){                         
		
		cpf.recuest('["digitalWrite", 5, 125]');
		
	}
		if(tempcomverted == 19){                         
		
		cpf.recuest('["digitalWrite", 5, 180]');
		
	}
		if(tempcomverted == 17){                         
		
		cpf.recuest('["digitalWrite", 5, 175]');
		
	}
		if(tempcomverted == 18){                         
		
		cpf.recuest('["digitalWrite", 5, 195]');
		
	}
		if(tempcomverted == 21){                         
		
		cpf.recuest('["digitalWrite", 5, 190]');
		
	}
		if(tempcomverted == 23){                         
		
		cpf.recuest('["digitalWrite", 5, 225]');
		
	}
		if(tempcomverted == 20){                         
		
		cpf.recuest('["digitalWrite", 5, 180]');
		
	}
	
	if(tempcomverted == 24){
	cpf.recuest('["digitalWrite", 5, 255]');
	}
	}
	
	main();
	
	setup(){
	if cpf{
		
		cpf.setPinMode('["resetPin"],["setPinMode", "analog", 0, "INPUT"],["setPinMode", "analog", 1, "INPUT"], ["setPinMode", "digital", 5,"PWM"], ["grove_newChainableLED", 7, 8, 1]'); 

	}	
	}
	
	
	</script>
</body>
</html>
